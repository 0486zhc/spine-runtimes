module spine.webgl {
	export class LoadingScreen {
		private renderer: SceneRenderer;
		private logo: GLTexture = null;
		private spinner: GLTexture = null;
		private angle = 0;
		private timeKeeper = new spine.TimeKeeper();
		backgroundColor = new spine.Color(0, 0, 0, 1);

		public static useDark = true;

		private static SPINNER_DATA = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAfCAYAAADwbH0HAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgtJREFUeNrsVz1LA0EQvbt8IIFoESshEBRCSsXOwhhsLBTS+jf8BSns/QtWYqeohY14lVoIpg4EAwGxMEZMkHiF5xsYdVx2z9zlksoHj8l+3Lyb2dndi2VFgO/7e/4PumDNGjdIxNejNm7hrkH4Powf2+B8DqYM9kHXtu2eGPONzoBRItoCbwUvwTUxfmeI+ChyxBzpiWZeD8FUeE4VRidSwRxX+ErB5Lj5irE3OdlRHi4bXjALR8uczmMSAcm6bJekKGOG/ROnVYdJpd0PyE5PrKXLokH4kMlUB9WIXSkg0IBYI2S5vIAD5vMwxVUET0VxHVCfNSnwC0xOcFKwOToq+3Uuf1rLa7X8YxeGaB52B8yI/jaEd2NctgTMAm1L0AObVNWbiighj8mLMQZYYFFCml7C0Yh+i8conFDaaRI2rWU7RmFPbZPwmUac1rgeo3CbDxSLtZqyqle+BiB6Yf1jHAeIsuemYDbAEh/wdc2VN8zezYid8QQfnb+E6aJX97AbRpxFV8GU6L6S4o7mOd3BUQoZcF4RJcwH3ccmDAI+CiMhqelr8RGn9v26Mnn7pfHb4zQ2lH1bDDqQTMVVFem9gdNzMU5n7rbmhfcxzxPzciK9dCA9BkaMCZTWw4AsZQ39s+CD8EOF1DE5cSIsz3vI/niEOZKG5mOwM/JfmCH3aoG/WFphRQmfAgwALNYr+OATlbkAAAAASUVORK5CYII=";
		private static SPINNER_DARK_DATA = "data:image/png;base64,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";	

		private static SPINE_LOGO_DATA = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGoAAAAgCAYAAAGN5d0LAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAABBFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHhtcE1NOkRlcml2ZWRGcm9tIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgPHN0UmVmOmluc3RhbmNlSUQ+eG1wLmlpZDo2NjYxMjA0QzhFMzExMUUyODUyOERFQ0Y4QTY3MkFFMjwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDo2NjYxMjA0RDhFMzExMUUyODUyOERFQ0Y4QTY3MkFFMjwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDo2NjYxMjA0RjhFMzExMUUyODUyOERFQ0Y4QTY3MkFFMjwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDo2NjYxMjA0RThF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"
		private static SPINE_LOGO_DARK_DATA = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGoAAAAgCAYAAAGN5d0LAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAABBFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHhtcE1NOkRlcml2ZWRGcm9tIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgPHN0UmVmOmluc3RhbmNlSUQ+eG1wLmlpZDpENjZGRjEyRDhFMzAxMUUyQjlDRUU4Rjg1Q0NDMjdCMjwvc3RSZWY6aW5zdGFuY2VJRD4KICAgICAgICAgICAgPHN0UmVmOmRvY3VtZW50SUQ+eG1wLmRpZDpENjZGRjEyRThFMzAxMUUyQjlDRUU4Rjg1Q0NDMjdCMjwvc3RSZWY6ZG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpENjZGRjEzMDhFMzAxMUUyQjlDRUU4Rjg1Q0NDMjdCMjwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDpENjZGRjEyRjhF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";

		constructor (renderer: SceneRenderer) {
			this.renderer = renderer;
			var logoImg = document.createElement("img");
			document.getElementsByTagName("body")[0].appendChild(logoImg);			
			logoImg.src = LoadingScreen.useDark ? LoadingScreen.SPINE_LOGO_DARK_DATA : LoadingScreen.SPINE_LOGO_DATA;
			logoImg.crossOrigin = "anonymous";
			logoImg.onload = (ev) => {
				this.logo = new GLTexture(renderer.gl, logoImg);
			}						

			var spinnerImg = new Image();
			spinnerImg.src = LoadingScreen.useDark ? LoadingScreen.SPINNER_DARK_DATA : LoadingScreen.SPINNER_DATA;
			logoImg.crossOrigin = "anonymous";
			spinnerImg.onload = (ev) => {
				this.spinner = new GLTexture(renderer.gl, spinnerImg);
			}			
		}

		draw () {			
			this.timeKeeper.update();
			this.angle += this.timeKeeper.delta * 360 * (0.5 + 2 * Math.abs(Math.sin(this.timeKeeper.totalTime)));

			var renderer = this.renderer;
			var canvas = renderer.canvas;
			var gl = renderer.gl;

			gl.clearColor(this.backgroundColor.r, this.backgroundColor.g, this.backgroundColor.b, this.backgroundColor.a);
			gl.clear(gl.COLOR_BUFFER_BIT);

			if (this.logo === null || this.spinner === null) return;
			this.logo.update(false);

			renderer.camera.position.set(canvas.width / 2, canvas.height / 2, 0);
			renderer.camera.viewportWidth = canvas.width;
			renderer.camera.viewportHeight = canvas.height;
			renderer.resize(ResizeMode.Stretch);

			var logoWidth = this.logo.getImage().width;
			var logoHeight = this.logo.getImage().height;
			var spinnerWidth = this.spinner.getImage().width;
			var spinnerHeight = this.spinner.getImage().height;
			var margin = 15;
			var width = logoWidth + margin + spinnerWidth;			

			renderer.begin();
			renderer.drawTexture(this.logo, canvas.width / 2 - width / 2, canvas.height / 2 - logoHeight / 2, logoWidth, logoHeight);			
			renderer.drawTextureRotated(this.spinner, canvas.width / 2 - width / 2 + logoWidth + margin, canvas.height / 2 - spinnerHeight / 2 + 2, spinnerWidth, spinnerHeight, spinnerWidth / 2, spinnerHeight / 2, this.angle);
			renderer.end();
		}
	}
}
